{% extends "base.html" %}
{% load static %}
{% block container %}

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-section set-bg" data-setbg=" {% static "img/breadcrumb-bg.jpg" %}">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="breadcrumb-text">
                        <h2>Dashboard</h2>
                        <div class="bt-option">
                            <a href="{% url "home" %}">Home</a>
                            <span>Dashboard
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- ChoseUs Section Begin -->
    <section class="choseus-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    {% include "user/sidebar.html" %}
                </div>
                <div class="col-lg-9">

                    <div class="row">
                        <div class="col-lg-6 col-md-6">
                           <h4 class="text-white text-center mb-3">CURRENT PLAN</h4>
                            
                                <div style="width: 100%;">
                                  {% if cplan %}
                                    <table style="width: 100%;" class="table table-dark table-striped-columns" border="1">
                                        
                                        
    
                                    <tr>
                                       
                                        <td colspan="2"  class="p-3 font-weight-bold">
                                           <h5 class="text-white">Plan</h5>
                                        </td>
                                        <td  class="p-3 font-weight-bold"><h5 class="text-white">{{cplan.plan.title}}</h5></td>
                                    </tr>

                                    {% comment %} <tr>
                                       
                                        <td colspan="2"  class="p-3 font-weight-bold">
                                           Features
                                        </td>
                                        <td>
                                        <ul class="px-3 font-weight-bold">
                                            {% for i in cplan.plan.subscription_feature_set.all %}
                                            <li>{{i.feature}}</li>
                                            {% endfor %}
                                        </ul>
                                    </td>
                                    </tr> {% endcomment %}

                                    <tr>
                                       
                                        <td colspan="2"  class="p-3 font-weight-bold">
                                           <h5 class="text-white">Duration</h5>
                                        </td>
                                        <td  class="p-3 font-weight-bold"><h5 class="text-white">{{cplan.duration_month}} Months</h5></td>
                                    </tr>

                                    <tr>
                                       
                                        <td colspan="2"  class="p-3 font-weight-bold">
                                            <h5 class="text-white"> Start Date</h5>
                                        </td>
                                        <td  class="p-3 font-weight-bold"><h5 class="text-white">{{cplan.start_date}} </h5></td>
                                    </tr>

                                    <tr>
                                       
                                        <td colspan="2"  class="p-3 font-weight-bold">
                                            <h5 class="text-white">End Date</h5>
                                        </td>
                                        <td  class="p-3 font-weight-bold"><h5 class="text-white">{{cplan.end_date}}</h5> </td>
                                    </tr>

                                    <tr>
                                       
                                      <td colspan="2"  class="p-3 font-weight-bold">
                                          <h5 class="text-white">Status</h5>
                                      </td>
                                      <td  class="p-3 font-weight-bold">
                                        {% if status == 1 %}
                                        <h5 class="text-success">Active</h5> 
                                        {% else %}
                                        <h5 class="text-danger">Expired</h5> 
                                        {% endif %}
                                      </td>
                                  </tr>

                                    <tr>
                                       
                                        <td colspan="2"  class="p-3 font-weight-bold">
                                            <h5 class="text-white">Purchased Amount</h5>
                                        </td>
                                        <td  class="p-3 font-weight-bold"><h5 class="text-white">$ {{cplan.total_amount}} </h5></td>
                                    </tr>
    
                                    
    
                                   
    
                                   
                                </table>
                                {% else %}
                                <div class="card bg-dark" style="width: 100%;">
                               <h2 class="text-warning text-center mt-5 mb-5">No Active Plan</h2>
                              </div>
                                {% endif %}
                       
                        </div>
                    
                    </div>


                    <div class="col-lg-6 col-md-6">
                        <h4 class="text-white text-center mb-3">MY TRAINER</h4>
                        
                         
                        <div class="card bg-dark" style="width: 100%;">
                          {% if a_trainer %}
                            <img src="{{a_trainer.trainer.image}}" class="card-img-top" alt="{{a_trainer.trainer}} trainer image" style="height:400px;object-fit:cover;">
                            <div class="card-body">
                              <h5 class="card-title text-white">{{a_trainer.trainer}}</h5>
                              <div class="d-flex justify-content-between">
                                <div class="d-flex gap-3 mt-3">
                                    <a href="#" class="text-light"><i class="fas fa-envelope " title="Email"></i></a> 
                                    {% if a_trainer.trainer.whatsapp %}
                                        <a href="#" class="text-light"><i class="fab fa-whatsapp " title="Whatsapp"></i></a>

                                    {% endif %}
                                    {% if a_trainer.trainer.facebook %}
                                        <a href="#" class="text-light"><i class="fab fa-facebook " title="Facebook"></i></a>
                                    {% endif %}
                                    {% if a_trainer.trainer.instagram %}
                                    <a href="#" class="text-light"><i class="fab fa-instagram " title="Instagram"></i></a>
                                    {% endif %}
                                    {% if a_trainer.trainer.linkedin %}
                                    <a href="#" class="text-light"><i class="fab fa-linkedin " title="LinkedIn"></i></a>
                                    {% endif %}
                                    {% if a_trainer.trainer.youtube %}
                                    <a href="#" class="text-light"><i class="fab fa-youtube " title="Youtube"></i></a>
                                    {% endif %}

                                </div>

                                <div class="d-flex gap-3 mt-3">
                                    <a href="#" class="text-light"><i class="fas fa-award " title="Achievements"  data-bs-toggle="modal" data-bs-target="#exampleModal"></i></a> 
                                    

                                </div>
                            </div>

                              {% comment %} <a href="#" class="btn btn-primary">Go somewhere</a> {% endcomment %}
                            </div>
                            {% else %}
                            <h2 class="text-warning text-center mt-5 mb-5">No Trainer Assigned</h2>
                            {% endif %}
                          </div>
                 
                 </div>
            </div>
            
        </div>

        <!-- Button trigger modal -->

  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
      <div class="modal-content bg-dark">
        <div class="modal-header">
          <h3 class="modal-title  text-white" id="exampleModalLabel">Achievements</h3>
          
          <button type="button" class="btn-close btn-light" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <style>
                table.full-border {
                  width: 100%;
                  border-collapse: collapse;
                }
                table.full-border th,
                table.full-border td {
                  border: 1px solid #ffffff; /* white borders */
                  padding: 12px;
                  color: white;
                }
                table.full-border th {
                  font-weight: bold;
                  background-color: #333333; /* Optional: darker background for header */
                }
              </style>
              
              <table class="full-border">
                <tr>
                  <th>Achievement</th>
                  <th>Details</th>
                  <th>Image</th>
                </tr>
                {% for i in achievment %}
                <tr>
                  <td>{{ i.achievment }}</td>
                  <td>{{ i.description }}</td>
                  <td><img src="{{ i.image.url }}" width="400" height="200" alt="Achievement Image"></td>
                </tr>
                {% endfor %}
              </table>
              
        </div>
        {% comment %} <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div> {% endcomment %}
      </div>
    </div>
  </div>
    </section>

  
    

    {% endblock container %}
